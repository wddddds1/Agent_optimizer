# Machine-local overrides (not tracked in git).
# Copy this file to env.local.yaml and adjust paths for your machine.

# lammps_bin: "build/lammps-linux-omp/lmp"

time_command: "/usr/bin/time -v"

wrappers:
  - id: "tau"
    enabled: false
    # macOS defaults to disabling TAU wrappers for runtime fairness.
    # Set true only when you explicitly want TAU-wrapped timing.
    allow_on_macos: false
    baseline_only: true
    exec: "/usr/local/bin/tau_exec"
    args: ["-T", "serial"]
    env:
      TAU_PROFILE: "1"
      TAU_TRACE: "0"
      TAU_PROFILE_FORMAT: "profile"
      TAU_SAMPLING: "1"
      TAU_EBS_SOURCE: "itimer"
      TAU_EBS_PERIOD: "100000"
      TAU_EBS_UNWIND: "0"
    profile_subdir: "tau"

# Optional: macOS system profiler (xctrace Time Profiler).
# Requires Xcode Command Line Tools (xcrun xctrace).
profiling:
  xctrace:
    enabled: false
    baseline_only: true
    template: "Time Profiler"
    report: "Time Profiler"
    top_n: 30
    profile_subdir: "xctrace"

build:
  source_dir: "third_party/lammps/cmake"
  generator: ""
  cmake_args:
    - "-D CMAKE_BUILD_TYPE=Release"
    - "-D BUILD_MPI=off"
    - "-D BUILD_OMP=on"
    - "-D PKG_OPENMP=on"
  build_args: ["-j", "4"]
  target: "lmp"
  lammps_bin: "lmp"
  env: {}
